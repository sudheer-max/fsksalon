function getCookie(n){return n=RegExp(String(n+"[^;]+")).exec(document.cookie),unescape(n?n.toString().replace(/^[^=]+./,""):"")}function setCookie(n,t,i){var r,u,f;i=i||{};r=i.expires;"number"==typeof r&&r&&(u=new Date,u.setTime(u.getTime()+1e3*r),r=i.expires=u);r&&r.toUTCString&&(i.expires=r.toUTCString());t=encodeURIComponent(t);n=n+"="+t;for(f in i)n+="; "+f,t=i[f],!0!==t&&(n+="="+t);document.cookie=n}var counter,jq,countryCode,cookies;(function(n){window.vt=window.vt||{};vt.initCookieDisclaimer=function(t){var i=n(t),r=i.find(".closer"),u=function(n){var t=new Date;n.preventDefault();i.slideUp(125);t.setFullYear(t.getFullYear()+1);document.cookie="vtAcceptCookies=1; expires="+t.toString()+"; path=/"};if(i.length&&!(document.cookie.search("vtAcceptCookies")>-1)){i.show();r.on("click",u)}}})(jQuery),function(n){var t,i;window.vt=window.vt||{};t=n("#alreadyEmailRegisterdMsg").val();i="isNewsletterSubscribed";i=RegExp(String(i+"[^;]+")).exec(document.cookie);var u=unescape(i?i.toString().replace(/^[^=]+./,""):""),r=n("form#footer-email-subscribe"),f=function(n){var t=n.getUTCFullYear(),i=n.getUTCMonth(),r=n.getUTCDate(),u=n.getUTCHours(),f=n.getUTCMinutes(),e=n.getUTCSeconds();return new Date(t,i,r,u,f,e)};setFooterNewsLetterCookie=function(n,t){n.preventDefault();var u=new Date,i=f(u),r=new Date(new Date(i).setMonth(i.getMonth()+6));console.log("testing",t+"=1; expires="+r.toString()+"; path=/");document.cookie=t+"=1; expires="+r.toString()+"; path=/"};u&&(console.log("Newsletter Cookie Exist"),n("#footerNewletterSubmit").addClass("disable-subscribe-btn"),n("#newletterEmailSubscribe").attr("disabled","disabled"),n("#newletterEmailSubscribe").attr("placeholder",t));n('input[type="submit"]',r).bind("click touchstart",function(){if(n("#footerNewletterSubmit").hasClass("disable-subscribe-btn"))return!1;var t=n('input[name="targetid"]',r).val(),i=n('input[name="email"]',r).val(),u=r.attr("action");formDataArr={};formDataArr.DataStorageId=t;formDataArr.Email=i;formDataArr.IsProfessionnal="False"});n("#footer-email-subscribe").bind("submit",function(i){if(!n("#footerNewletterSubmit").hasClass("disable-subscribe-btn")){i.preventDefault();var r=n(this).attr("action");n.ajax({type:"POST",url:r+"?Data="+JSON.stringify(formDataArr)+"",dataType:"json",success:function(){n(".nl-mail-success").show();setTimeout(function(){n(".nl-mail-success").hide();n("#footerNewletterSubmit").addClass("disable-subscribe-btn");n("#newletterEmailSubscribe").attr("placeholder",t).val("");n("#newletterEmailSubscribe").attr("disabled","disabled");setFooterNewsLetterCookie(i,"isNewsletterSubscribed")},5e3)}})}});vt.initNewsletterSubscriptionCookie=function(i){var r=n(i),u=function(n){var t=n.getUTCFullYear(),i=n.getUTCMonth(),r=n.getUTCDate(),u=n.getUTCHours(),f=n.getUTCMinutes(),e=n.getUTCSeconds();return new Date(t,i,r,u,f,e)},o=function(){var n=r.find(".closer"),t=function(n){if(n.preventDefault(),!e()){var i=new Date,t=u(i),r=new Date(new Date(t).setDate(t.getDate()+20));document.cookie="vtNewsletterSubsciption=1; expires="+r.toString()+"; path=/"}};n.on("click",t)},f=function(n,t){n.preventDefault();var f=new Date,i=u(f),r=new Date(new Date(i).setMonth(i.getMonth()+6));console.log("testing",t+"=1; expires="+r.toString()+"; path=/");document.cookie=t+"=1; expires="+r.toString()+"; path=/"},s=function(){var e={},i=r.find("form#form-news"),o=r.find("form#newsLetterForm, form#form-hair-advise");formdata=[];setCookie=function(n){n.preventDefault();var i=new Date,t=u(i),r=new Date(new Date(t).setMonth(t.getMonth()+6));document.cookie="vtNewsletterSubsciption=1; expires="+r.toString()+"; path=/"};n('input[type="submit"]',i).bind("click",function(){var f=n('input[name="targetid"]',i).val(),e=n('input[name="email"]',i).val(),u=n('input[name="post-code"]',i).val(),o=n('input[name="key"]',i).val(),s=n('input[name="sourceofhit"]',i).val(),h=n('input[name="email_subscription"]',i).val(),r,t;u==undefined&&(u="");r=n('input[name="firstname"]',i).val();r==undefined&&(r="");t=i.attr("action");t=t+"?email="+e+"&targetid="+f;t.indexOf("?")>-1&&(t=t.substr(0,t.indexOf("?")));t=t+"?email="+e+"&firstname="+r+"&targetid="+f+"&postalcode="+u+"&popinkey="+o+"&emailsubscription="+h+"&sourceofhit="+s;i.find("[data-key-options=optionblocks]").each(function(t,i){n(i).find("input").each(function(){if(n(this).is(":radio"))n(this).is(":checked")&&formdata.push(jq(i).attr("data-key-id")+":"+jq(this).val());else if(n(this).is(":checkbox")){var t=jq(this).attr("data-values").split("|");n(this).is(":checked")?formdata.push(jq(i).attr("data-key-id")+":"+t[0]):formdata.push(jq(i).attr("data-key-id")+":"+t[1])}})});i.attr("action",t)});n("#form-news").bind("submit",function(t){n("#form-news").find('input[type="submit"]').prop("disabled",!0);t.preventDefault();var i=n(this).attr("action");n.ajax({type:"POST",url:i+"&valueList="+JSON.stringify(formdata)+"",dataType:"json",success:function(t){t.Data.success?(n("#form-news").find('#email-news,#legalMentiontxt,#iamTitle,.ctt-forms,input[type="submit"],#name,#post-code,.checkbox-div').hide(),n("#form-news").find('input[type="submit"]').css("visibility","hidden"),n("#form-news").find("#succes-newsletter").fadeIn(800),n("#form-news").find(".dontHide").removeClass("dontHide"),jq(".popin-nl .closer:not(.dontHide), .popin-nl:not(.dontHide)").click(function(){jq(".popin-nl").fadeOut(500);jq("body").removeClass("overhid")}),jq("body").keyup(function(n){n.keyCode==27&&(jq(".popin-nl:not(.dontHide)").fadeOut(500),jq("body:not(.dontHide)").removeClass("overhid"))})):(n(t.Data.field).setCustomValidity(t.Data.errormessage),n("#form-news").checkValidity(),setTimeout(function(){n(t.Data.field).setCustomValidity("")},3e3),n("#form-news").find('input[type="submit"]').prop("disabled",!1))}})});n('input[type="submit"]',o).bind("click",function(t){var f=n('input[name="targetid"]',"#newsLetterForm").val(),r=n('input[name="email"]',"#newsLetterForm").val(),u=n('input[name="postolcode"]',"#newsLetterForm").val(),i=o.attr("action");e={};e.DataStorageId=f;e.Email=r;e.Postal_Code=u;e.IsProfessionnal=n("#professionalCheck").is(":checked");t.target.id!=="hairAdviceSubmit"||n("#professionalCheck").is(":checked")||(n("#Months :selected").val().length>1&&(e.Birthday=n("#day :selected").text()+"-"+n("#Months :selected").val()),n("#Hair_Texture :selected").text().length&&(e.Hair_Texture=n("#Hair_Texture :selected").text()),n("#Do_You_Colour_Your_Hair :selected").text().length&&(e.Is_your_hair_colored=n("#Do_You_Colour_Your_Hair :selected").text()),n("#What_Is_Your_Hair_Color :selected").text().length&&(e.What_is_your_hair_color=n("#What_Is_Your_Hair_Color :selected").text()),n("#Hair_Concerns_Primary :selected").text().length&&(e.Hair_Concerns_Primary=n("#Hair_Concerns_Primary :selected").text()));(n(this).attr("id")=="hairAdviceSubmit"||r!=""&&u!=""&&n("#professionalCheck").is(":checked"))&&(i=i+"?Data="+JSON.stringify(e),o.attr("action",i))});n("#newsLetterForm").bind("submit",function(i){if(!n("#professionalCheck").is(":checked"))return n("#newsLetterForm").css("display","none"),n("#form-hair-advise").css("display","block"),i.stopPropagation(),!1;n(".overlay").css("display","block");i.preventDefault();var r=window.location.href+n(this).attr("action");n.ajax({type:"POST",url:r,dataType:"json",success:function(r){r.Data.success?(n(".overlay").css("display","none"),n(".nl-modal-popup").css("display","none"),n("body").removeClass("overhid"),n("#footerNewletterSubmit").addClass("disable-subscribe-btn"),n("#newletterEmailSubscribe").attr("placeholder",t),n("#newletterEmailSubscribe").attr("disabled","disabled"),f(i,"isNewsletterSubscribed")):(n(".overlay").css("display","none"),n(".nl-modal-popup").css("display","none"),n("body").removeClass("overhid"))}})});n("#form-hair-advise").bind("submit",function(i){i.preventDefault();var r=window.location.href+n(this).attr("action");n(".overlay").css("display","block");n.ajax({type:"POST",url:r,dataType:"json",success:function(r){r.Data.success?(n(".overlay").css("display","none"),n(".nl-modal-popup").css("display","none"),n("body").removeClass("overhid"),n("#footerNewletterSubmit").addClass("disable-subscribe-btn"),n("#newletterEmailSubscribe").attr("placeholder",t),n("#newletterEmailSubscribe").attr("disabled","disabled"),f(i,"isNewsletterSubscribed")):(n(".overlay").css("display","none"),n(".nl-modal-popup").css("display","none"),n("body").removeClass("overhid"))}})});n(".close, .nothanks").on("click",function(){n(this).closest(".nl-modal-popup").fadeOut(500);n("body").removeClass("overhid")});n("#Months").change(function(){n("#day option").removeAttr("disabled");var i=n(this).find(":selected").attr("data-month"),t=new Date("",i,0).getDate(),r=parseInt(n("#day option:selected").text());n("#day option:gt(28)").removeAttr("disabled");t=i==2?t+1:t;n("#day option:gt("+t+")").attr("disabled",!0);r>t&&n("#day").val(t)});DOMContentLoadeddocument.addEventListener("DOMContentLoaded",function(){for(var t=document.getElementsByTagName("INPUT"),n=0;n<t.length;n++)t[n].oninvalid=function(n){var t,i;if(n.target.setCustomValidity(""),n.target.validity.valueMissing){t=n.target.dataset.msg;n.target.setCustomValidity(t);return}n.target.validity.valid||(i=n.target.dataset.invMsg,n.target.setCustomValidity(i))},t[n].oninput=function(n){n.target.setCustomValidity("")}});n(document).ajaxSuccess(function(n,t,r){if(i&&i.attr("action")===r.url){var u=JSON.parse(t.responseText);u&&u.Data&&u.Data.success&&setCookie(n)}});jQuery.fn.center=function(){var n=Math.max(0,(jQuery(window).height()-jQuery(this).outerHeight())/2)>50?Math.max(0,(jQuery(window).height()-jQuery(this).outerHeight())/2):50;return this.css("max-height",jQuery(window).height()-100+"px"),this.css("position","fixed"),this.css("top",n+"px"),this.css("left",Math.max(0,(jQuery(window).width()-jQuery(this).outerWidth())/2)+"px"),this};jQuery(window).on("orientationchange resize load",function(){console.log("Orientation Call");n(".nl-modal-popup #popin-nl-ctt").center()});n(".nl-modal-popup #popin-nl-ctt").center()},e=function(){return document.cookie.search("vtNewsletterSubsciption")>-1};o(i);s(i);(!r.length||e())&&r.remove()}}(jQuery),function(){"use strict";window.vt=window.vt||{};window.console=window.console||{};window.console.log=window.console.log||function(){};for(var i=document.querySelectorAll("[data-js-initialize]"),u=function(n,t){return n[t]},f=function(n,t){return t.split(".").reduce(u,n)},n,r,t=0;t<i.length;t++){n=i[t];try{r=f(window,n.getAttribute("data-js-initialize"));r(n)}catch(e){console.log("Error initializing: "+e.message,n)}}}();jq=jQuery.noConflict();counter=0,function(n){window.vt=window.vt||{};vt.productSearch={next:function(t){n.ajax({url:t,dataType:"html",success:function(t){n(".align-center:has(span.loader)").remove();n("#product-list").append(t)}})},query:function(t,i){var r=n("#isBvEnabled");r!="undefined"&&r.val()=="1"&&(t=t+"&isBvEnabled=true");n.ajax({url:t,dataType:"html",success:function(t){n(".catalogue").empty().append(n(t).contents());typeof i=="function"&&i();var r=n("#ProductPriceApi").length?n("#ProductPriceApi").val().split("{UPC}"):"";r.length>1&&(counter=0,vt.productSearch.getProductListData())}})},trackEvent:function(){var t=n("[data-product-category]").data("product-category"),i=n("#select-action option:selected").text();dataLayer.push({event:"UseFilterTool",productCategory:t,expertAction:i})},getProductListData:function(){if(n("#product-list .list-items button").eq(counter).length){var t=n("#product-list .list-items button").eq(counter).attr("data-upc"),i=n("#ProductPriceApi").val(),r=i.replace("{UPC}",""+t+"");n.ajax({url:"/api/GetProductPrice/",type:"GET",data:{upcCode:t,apiUrl:r},async:!1,dataType:"json",success:function(t){t.Succes&&n("#product-list .list-items button").eq(counter).after(function(){return"<p style='margin-left: 10px;display:inline-block;'>"+(n("#ProductPriceApi").attr("data-currency")?n("#ProductPriceApi").attr("data-currency"):"$")+" "+t.price+"<\/p>"});counter<n("#product-list .list-items button").length&&(counter++,vt.productSearch.getProductListData())},error:function(){counter<n("#product-list .list-items button").length&&(counter++,vt.productSearch.getProductListData())}})}}};n(function(){n(".catalogue #select-action, .catalogue form#search-filters").off();n(".catalogue").on("click",".trigger-list",function(t){t.preventDefault();var i=n(this),r=i.attr("href");vt.productSearch.query(r)}).on("change","#select-action, #tri",function(){n("form#search-filters").attr("action",n(this).val())}).on("click","#submit-search",function(t){t.preventDefault();var i=n("#select-action option:selected").val();vt.productSearch.query(i);vt.productSearch.trackEvent()}).on("change","#select-action",function(n){n.preventDefault();vt.productSearch.query(this.value);vt.productSearch.trackEvent()}).on("change","#tri",function(n){n.preventDefault();vt.productSearch.query(this.value);vt.productSearch.trackEvent()});n(".buybutton").on("click",function(){n("#clickbuy").css("display","block");n(".buy-now-wrapper").css("display","block");n("#clickbuy").css("visibility","visible")});n(".close-reveal-modal").on("click",function(){n("#clickbuy").css("display","none");n(".buy-now-wrapper").css("display","none");n("#clickbuy").css("visibility","hidden")});n(".buy-now-wrapper").on("click",function(){n("#clickbuy").css("display","none");n(".buy-now-wrapper").css("display","none");n("#clickbuy").css("visibility","hidden")})})}(jq);jq=jQuery.noConflict(),function(n){function t(n){typeof $geoIPLocation!="undefined"&&$geoIPLocation!=""?dataLayer.push({event:"undefined",geoIPLocation:$geoIPLocation,ecommerce:"undefined",eventCategory:"registration",eventAction:"newsletter",eventLabel:n}):dataLayer.push({event:"undefined",ecommerce:"undefined",eventCategory:"registration",eventAction:"newsletter",eventLabel:n})}window.vt=window.vt||{};vt.newsletterSignup={query:function(){var i={dataStorageId:n("#targetid").val(),email:n("#mail").val(),firstname:n("#first-name").val(),lastname:n("#last-name").val(),secondname:n("#second-name").val(),civility:n(".civility:checked").val(),day:n("#day").val(),month:n("#month").val(),year:n("#year").val(),profession:n("input[name='profession']:checked").val(),subscription:n("input#subscription").is(":checked"),subscriptionId:n("#newsubscriptionid").val(),newsletterItemId:n("#newsletterItemId").val(),contextLanguage:n("#contextLanguage").val(),professionnelKey:n("#professionnelKey").val(),consumerKey:n("#consumerKey").val(),isBalayageStatus:n("input#balayage").is(":checked"),sourceofhit:n("#sourceofhit").val()};n("#mail").setCustomValidity("");n("#day").setCustomValidity("");n("#newsletterform").checkValidity()?n.ajax({url:"/api/form/newslettersignup",type:"POST",data:i,dataType:"json",success:function(i){i.Data.succes?(t("successful"),n("#signup-form").hide(),n("#signup-confirm").show()):(t("denied"),n(i.Data.field).setCustomValidity(i.Data.errormessage),n("#newsletterform").checkValidity())}}):t("error")}};vt.newsletterUnsubscribe={query:function(){var i={email:n("#mail").val(),dataStorageId:n("#targetid").val(),newsletterUnsubscribeItemId:n("#newsletterItemId").val(),unsubscribePurposeIds:n("#unsubscription").val().replace(/\;/g,","),contextLanguage:n("#contextLanguage").val()};n("#mail").setCustomValidity("");n("#unsubscription").setCustomValidity("");n("#newsletterunsubscribeform").checkValidity()?n.ajax({url:"/api/form/newsletterunsubscribe/",type:"POST",data:i,dataType:"json",success:function(i){i.Data.succes?(t("successful"),n("#unsubscribe-form").hide(),n("#undersubscribe-confirm").show()):(t("denied"),n(i.Data.field).setCustomValidity(i.Data.errormessage),n("#newsletterunsubscribeform").checkValidity())}}):t("error")}};vt.getOneTrustTransactionData={query:function(){var i={email:n("#mail").val(),dataStorageId:n("#targetid").val(),newsletterUnsubscribeItemId:n("#newsletterItemId").val(),contextLanguage:n("#contextLanguage").val()};n("#mail").setCustomValidity("");n("#newsletterunsubscribeform").checkValidity()?n.ajax({url:"/api/form/getonetrusttransactiondata/",type:"POST",data:i,dataType:"json",success:function(i){if(i.Data.succes){t("successful");var r=!1,u=n("#unsubscription").val().split(";");u.forEach(function(n){if(!n||n.trim().length===0)return!0;if(i.Data.succes.indexOf(n.trim())>=0)r=!0;else return r=!1,!1});r?(n("#unsubscription").prop("disabled",!1).prop("checked",!0),n("#newsletterunsubscribesubmit").prop("disabled",!1)):(n("#unsubscription").prop("disabled",!0).prop("checked",!1),n("#newsletterunsubscribesubmit").prop("disabled",!0))}else t("denied"),n(i.Data.field).setCustomValidity(i.Data.errormessage),n("#newsletterunsubscribeform").checkValidity()}}):t("error")}};n(function(){n(".wrap").on("click","#newslettersignupsubmit",function(n){n.preventDefault();vt.newsletterSignup.query()});n(".wrap").on("change","#month",function(){var e=new Date,r=n("#month").val()?parseInt(n("#month").val()):"",i=n("#year").val()?parseInt(n("#year").val()):"",s=new Date(i,r,0).getDate(),u=n("#day").val()?parseInt(n("#day").val()):"",h=i%100!=0&&i%4==0?29:28,o=n("#hdMinimumAge").val()?parseInt(n("#hdMinimumAge").val()):16,f;u!=""&&r!=""&&i!=""&&(f=new Date(i,r-1,u),age=t(f,e),age<o?(n("#newslettersignupsubmit").prop("disabled",!0),n("#newslettersignupsubmit").addClass("button-disable"),n(".dob-err-msg").css("display","block")):(n("#newslettersignupsubmit").prop("disabled",!1),n("#newslettersignupsubmit").removeClass("button-disable"),n(".dob-err-msg").css("display","none")))});var t=function(n,t){var i=new Date(t.getFullYear(),n.getMonth(),n.getDate());return t>=i?t.getFullYear()-n.getFullYear():t.getFullYear()-n.getFullYear()-1};n("#year").change(function(){n("#month").trigger("change")});n("#day").change(function(){n("#month").trigger("change")})});n(function(){n(".wrap").on("click","#newsletterunsubscribesubmit",function(n){n.preventDefault();vt.newsletterUnsubscribe.query()})});n(function(){n(".wrap").on("click","#emailconfirmationsubmit",function(n){n.preventDefault();vt.getOneTrustTransactionData.query()})})}(jq);jq=jQuery.noConflict(),function(n){function t(n){typeof $geoIPLocation!="undefined"&&$geoIPLocation!=""?dataLayer.push({event:"undefined",geoIPLocation:$geoIPLocation,ecommerce:"undefined",eventCategory:"contact",eventAction:"fill contact form",eventLabel:n}):dataLayer.push({event:"undefined",ecommerce:"undefined",eventCategory:"contact",eventAction:"fill contact form",eventLabel:n})}window.vt=window.vt||{};vt.contactForm={post:function(){var i={id:n("#id").val(),email:n("#mail").val(),firstname:n("#first-name").val(),lastname:n("#last-name").val(),secondname:n("#second-name").val(),phone:n("#phone-number").val(),subject:n("#subject").val(),message:n("#message").val(),profession:n('input[name="myprofession"]:checked',"#contact-form").val(),acceptinfos:n("#email").is(":checked")?"YES":"NO",newsletter:n("#email1").is(":checked")?"YES":"NO",cnil:n("#email2").is(":checked")?"YES":"NO",contextLanguage:n("#contextLanguage").val()};n("#mail").setCustomValidity("");n("#contactform").checkValidity()?n.ajax({url:"/api/form/contactform",type:"POST",data:i,dataType:"json",success:function(i){i.Data.succes?(n("#contact-form").hide(),n("#contact-confirm").show(),t("successful")):(n("#mail").setCustomValidity(i.Data.errormessage),n("#contactform").checkValidity(),t("denied"))}}):t("error")}};n(function(){n(".wrap").on("click","#contactformsubmit",function(n){n.preventDefault();vt.contactForm.post()})})}(jq);countryCode=jq("body").attr("data-context-lang");cookies=getCookie("promoBannerClosed"+countryCode);jq(document).ready(function(){cookies!=""?"":jq(".promo_banner").removeClass("js_hide");jq(".header_promo_close").on("click",function(){jq(this).parent().addClass("js_hide");setCookie("promoBannerClosed"+countryCode,!0,{path:"/"})})})